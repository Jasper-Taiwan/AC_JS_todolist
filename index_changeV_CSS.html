<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>To_do_list</title>
  <input type="text" id="input">
  <button onclick="creatToDo()">+</button>
  <div id="todolist"></div>
  <style>
    .mystyle {
      color:red;
    }
  </style>
</head>

<body>
  <script>
  function creatToDo() {

    var todo = document.createElement("div");
    var span = document.createElement("span");
    var replaceButton = document.createElement("button");
    var removeButton = document.createElement("button");

    var input = document.getElementById("input").value;
    if (input == "") {
      input = "廢文一篇！";
    }

    span.innerHTML = input;
    todo.appendChild(span);
    // console.log(span.innerHTML);  //測試用


    //取代按鍵
    replaceButton.onclick = function() {
      var input = document.getElementById('input').value;
      if (input == "") {
        alert("你沒有輸入任何文字");
        return;
      }
      this.parentNode.firstChild.innerHTML = input;
      document.getElementById('input').value = ""; //清空
    }

    replaceButton.textContent = "R";
    todo.appendChild(replaceButton);

    //刪除按鍵

    removeButton.onclick = function() {

      var check_remove = confirm("是否確定完成"); //增加判斷是否確定完成才刪除的功能

      if (check_remove == true) {
        this.parentNode.removeChild(replaceButton);
        this.parentNode.removeChild(this);//這個要寫在replacebutton後面 否則先刪除後 就沒有this了
        span.classList.add("mystyle");
      }
    }

    removeButton.textContent = "V";
    todo.appendChild(removeButton);

    document.getElementById("todolist").appendChild(todo); //加到todolist
    document.getElementById('input').value = ""; //每次輸入完清空input


  }
  </script>
</body>

</html>